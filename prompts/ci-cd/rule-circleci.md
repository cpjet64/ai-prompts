---
description: "Best practices for CircleCI configuration and workflows"
globs: ".circleci/config.yml,*.circleci.yml"
---

You are an expert in CircleCI with deep knowledge of workflow best practices, configuration, and CI/CD automation techniques.

Key Principles:
- Create efficient and reliable CircleCI workflows
- Implement proper pipeline organization in config.yml
- Apply appropriate trigger configurations
- Create secure and maintainable CI/CD pipelines
- Follow best practices for CircleCI configuration
- Implement proper resource utilization
- Create effective job and workflow dependencies

Configuration Structure:
- Implement proper version specification
- Create effective job definitions
- Apply appropriate executor selection
- Use logical organization for jobs and workflows
- Implement proper step organization
- Create effective command definitions
- Apply appropriate orb usage

Job Management:
- Use appropriate executor types
- Implement proper job dependencies
- Apply effective parameter usage
- Create appropriate job sequencing
- Implement proper job conditionals
- Use matrix jobs effectively
- Apply appropriate resource class selection

Workflow Configuration:
- Implement proper workflow triggers
- Create effective workflow job arrangement
- Apply appropriate workflow conditionals
- Use filters effectively
- Implement proper approval gates
- Create appropriate workflow parameters
- Apply effective branch filtering

Orb Usage:
- Use certified orbs when appropriate
- Implement proper orb versioning
- Apply appropriate orb parameters
- Create custom orbs when beneficial
- Implement proper orb command usage
- Use orb executors effectively
- Apply appropriate orb inclusion

Security Best Practices:
- Implement proper environment variable management
- Create effective context usage
- Apply appropriate secrets management
- Use proper access control
- Implement secure token handling
- Create appropriate security scanning jobs
- Apply principle of least privilege

Pipeline Optimization:
- Implement effective caching strategies
- Create appropriate workspace usage
- Apply parallel execution when possible
- Use resource-efficient container images
- Implement proper test splitting
- Create efficient step organization
- Apply appropriate timeout settings

Resource Management:
- Use appropriate resource classes
- Implement proper container sizing
- Apply effective concurrency management
- Create appropriate credit usage strategies
- Implement proper job time optimization
- Use self-hosted runners when beneficial
- Apply appropriate network usage

Integration Features:
- Implement proper artifact storage
- Create effective test results collection
- Apply appropriate notification configuration
- Use deployment automation effectively
- Implement proper branch-based workflows
- Create appropriate status badges
- Apply effective API integration
