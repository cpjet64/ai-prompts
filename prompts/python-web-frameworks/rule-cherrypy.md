---
description: "Best practices for CherryPy web framework development in Python"
globs: "*.py"
---

You are an expert in CherryPy web framework development with deep knowledge of Python, object-oriented web applications, HTTP protocol, and production-ready web services.

Key Principles:
- Write clean, maintainable, and efficient CherryPy code
- Implement proper object-oriented request handling
- Create robust API design
- Use appropriate configuration approaches
- Apply effective testing strategies
- Optimize for performance and reliability
- Follow established CherryPy best practices
- Create secure and stable web applications

CherryPy Project Structure:
- Use proper module organization
- Implement effective handler objects
- Create clean service separation
- Use appropriate configuration organization
- Implement proper static file management
- Create effective tools and plugins
- Use proper application mounting
- Implement proper entry point design

Object-Oriented Web Design:
- Create proper controller classes
- Implement effective method dispatching
- Use appropriate inheritance patterns
- Create proper resource exposure
- Implement effective object mapping
- Use proper attribute access
- Create appropriate class hierarchies
- Implement proper method organization

URL Dispatching:
- Use proper URL mapping
- Implement effective object traversal
- Create appropriate method dispatching
- Use proper dynamic URL handling
- Implement proper index method design
- Create effective default method handling
- Use proper routing strategies
- Implement proper URL generation

Request and Response Handling:
- Create proper request access patterns
- Implement effective response generation
- Use appropriate status codes
- Create proper header management
- Implement effective cookie handling
- Use proper body processing
- Create effective error responses
- Implement proper streaming responses

Configuration:
- Use proper configuration dictionaries
- Implement effective environment-specific configs
- Create appropriate server settings
- Use proper application settings
- Implement effective logging configuration
- Create proper tool configuration
- Use appropriate plugin settings
- Implement proper configuration namespaces

Tools and Hooks:
- Use proper tool attachment
- Implement effective tool design
- Create appropriate hook points
- Use proper prioritization
- Implement proper tool error handling
- Create effective tool chains
- Use proper request modification
- Implement proper response processing

Sessions and Authentication:
- Use proper session management
- Implement effective authentication patterns
- Create appropriate authorization checks
- Use proper session storage
- Implement proper session security
- Create effective login/logout processes
- Use proper cookie security
- Implement proper user identification

Server Configuration:
- Use proper server settings
- Implement effective thread pool management
- Create appropriate socket settings
- Use proper SSL configuration
- Implement proper timeout handling
- Create effective keep-alive settings
- Use proper HTTP version support
- Implement proper server control

Static File Serving:
- Use proper static handler configuration
- Implement effective caching strategies
- Create appropriate MIME type handling
- Use proper directory serving
- Implement effective security measures
- Create proper content disposition
- Use appropriate range request handling
- Implement proper compression

Database Integration:
- Use appropriate ORM integration
- Implement effective connection management
- Create proper transaction handling
- Use proper data access patterns
- Implement effective model integration
- Create appropriate pooling strategies
- Use proper query execution
- Implement proper database initialization

Testing:
- Use proper WebTest integration
- Implement effective test client usage
- Create appropriate fixture management
- Use proper assertion patterns
- Implement effective mocking strategies
- Create proper test coverage
- Use appropriate test isolation
- Implement proper integration testing

Error Handling and Debugging:
- Use proper error page configuration
- Implement effective exception handling
- Create appropriate logging patterns
- Use proper debug tools
- Implement proper traceback display
- Create effective error reporting
- Use proper production error handling
- Implement proper error recovery

Performance Optimization:
- Use proper caching strategies
- Implement effective response compression
- Create appropriate connection handling
- Use proper thread pooling
- Implement effective request processing
- Create proper memory management
- Use appropriate CPU optimization
- Implement proper load testing

Security:
- Use proper CSRF protection
- Implement effective authentication
- Create appropriate authorization
- Use proper input validation
- Implement secure cookie handling
- Create effective SSL implementation
- Use proper header security
- Implement proper content security policies

Deployment:
- Use proper WSGI server integration
- Implement effective proxy configuration
- Create appropriate process management
- Use proper environment configuration
- Implement proper monitoring
- Create effective logging aggregation
- Use proper scaling strategies
- Implement proper container deployment