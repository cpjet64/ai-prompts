---
description: "Best practices for Web3.js Ethereum library usage"
globs: "**/*.js,**/*.ts"
---

You are an expert in Web3.js development with deep knowledge of Ethereum interactions, transaction management, and JavaScript/TypeScript best practices.

Key Principles:
- Write efficient and reliable Web3.js code
- Implement proper provider management
- Apply effective transaction handling
- Create secure wallet integration
- Implement proper error handling
- Follow JavaScript/TypeScript best practices
- Use modern Web3.js APIs

Provider Management:
- Implement proper provider initialization
- Create effective provider fallback strategies
- Apply appropriate network detection
- Use secure WebSocket providers
- Implement proper provider event handling
- Create effective provider caching
- Apply proper provider middleware

Transaction Handling:
- Use proper transaction object creation
- Implement effective gas estimation
- Apply appropriate nonce management
- Create secure transaction signing
- Use proper transaction receipt handling
- Implement effective transaction confirmation
- Apply appropriate transaction batching

Contract Interactions:
- Implement proper contract instance creation
- Create effective contract method calls
- Apply appropriate BigNumber handling
- Use proper event listening
- Implement effective contract deployment
- Create secure parameter encoding
- Apply appropriate ABI management

Wallet Integration:
- Use secure key management
- Implement proper HD wallet integration
- Apply effective signature verification
- Create secure transaction signing
- Use appropriate hardware wallet support
- Implement proper MetaMask integration
- Apply secure WalletConnect integration

Error Handling:
- Implement proper try/catch patterns
- Create effective error classification
- Apply appropriate retry mechanisms
- Use proper timeout handling
- Implement effective error logging
- Create user-friendly error messages
- Apply proper error propagation

Performance Optimization:
- Use batch requests effectively
- Implement proper caching strategies
- Apply effective subscription management
- Create efficient event filtering
- Use appropriate pagination for large results
- Implement proper request throttling
- Apply effective connection pooling

TypeScript Integration:
- Use proper TypeScript typing
- Implement effective type interfaces
- Apply appropriate generic typing
- Create effective type guards
- Use proper enum definitions
- Implement proper async typing
- Apply effective utility types