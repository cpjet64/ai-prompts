---
description: "Best practices for ASP.NET Core web application development"
globs: "*.cs,*.cshtml,*.razor,appsettings.json,*.csproj,Program.cs,Startup.cs"
alwaysApply: false
---

# ASP.NET Core Best Practices

## Key Principles

- Implement proper application architecture and design patterns
- Create effective request processing pipelines
- Apply appropriate dependency injection practices
- Utilize proper configuration management
- Implement effective security practices
- Design efficient data access patterns
- Create robust error handling and logging

## Architecture and Structure

- Implement clean architecture principles
- Create proper separation of concerns
- Apply appropriate MVC/MVVM patterns
- Use effective domain-driven design when applicable
- Implement proper service organization
- Create modular application structure
- Apply appropriate middleware composition
- Use proper controller organization
- Implement effective routing patterns
- Create maintainable project structure

## Dependency Injection

- Use the built-in DI container effectively
- Implement proper service lifetimes
- Apply appropriate service registration patterns
- Use constructor injection
- Implement proper factory patterns
- Create effective service interfaces
- Apply appropriate scoped services
- Use proper disposal of resources
- Implement proper service configuration
- Create testable service designs

## Configuration Management

- Use proper configuration providers
- Implement environment-specific configurations
- Apply appropriate secrets management
- Use strongly-typed configuration
- Implement effective configuration validation
- Create proper configuration loading
- Apply appropriate configuration change handling
- Use proper configuration in dependency injection
- Implement proper connection string management
- Create effective feature flags

## API Design

- Implement proper RESTful API design
- Create effective controller actions
- Apply appropriate model binding
- Use effective action results
- Implement proper route design
- Create API versioning
- Apply appropriate content negotiation
- Use proper response formatting
- Implement effective API documentation
- Create proper OpenAPI/Swagger integration

## Security Implementation

- Implement proper authentication
- Create effective authorization
- Apply appropriate HTTPS configuration
- Use proper CORS policies
- Implement effective input validation
- Create proper anti-forgery protection
- Apply appropriate security headers
- Use effective data protection APIs
- Implement proper identity management
- Create secure cookie handling

## Data Access

- Implement proper Entity Framework Core usage
- Create effective query optimization
- Apply appropriate database migrations
- Use proper connection management
- Implement effective transaction handling
- Create appropriate concurrency handling
- Apply proper database context lifetime
- Use effective caching strategies
- Implement proper database schema design
- Create effective data seeding

## Performance Optimization

- Implement proper response caching
- Create effective memory caching
- Apply appropriate output caching
- Use proper async/await patterns
- Implement effective resource pooling
- Create proper static file handling
- Apply appropriate response compression
- Use effective minimal API when applicable
- Implement proper background processing
- Create efficient startup performance

## Error Handling and Logging

- Implement proper global exception handling
- Create effective error middleware
- Apply appropriate logging providers
- Use structured logging
- Implement proper log levels
- Create effective diagnostic logging
- Apply appropriate health checks
- Use proper application insights integration
- Implement effective problem details responses
- Create proper error documentation
